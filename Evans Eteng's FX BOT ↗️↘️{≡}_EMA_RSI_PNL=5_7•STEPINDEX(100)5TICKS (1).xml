<xml xmlns="https://developers.google.com/blockly/xml" is_dbot="true" collection="false">
  <variables>
    <variable id="!{n^g?p1ze,q0]%vUuW3">Próxima condição Trade</variable>
    <variable id=")6j,MM.rzpYSIq+6cjf9">Perda máxima aceita</variable>
    <variable id="`WOI5{w~~8:IGQ0a6Y:)">Aposta inicial</variable>
    <variable id=";Nub0jD_QQ{e@__UYhXE">text</variable>
    <variable id="W?uLGIENx1)FY:8]jm:e">text2</variable>
    <variable id="$~6pi|Dpu{7rY$yF7N~E">Espectativa de Lucro</variable>
    <variable id="Y9;b0=lG;-Wn2FG1(zg%">text1</variable>
    <variable id="if]A;[/e%;B@?m[UFZ02">Aposta ao vencer</variable>
    <variable id="t/e5rb;Rxg/z9vqQ%X^Z">text3</variable>
    <!-- New variables for recovery system -->
    <variable id="win_count">Contagem de Vitórias</variable>
    <variable id="accumulated_losses">Perdas Acumuladas</variable>
    <variable id="recovery_mode">Modo Recuperação</variable>
    <variable id="recovery_stake">Aposta Recuperação</variable>
    <variable id="trade_type">Tipo Trade</variable>
  </variables>
  <block type="trade_definition" id="W}rOqk6y`|Xdgx%).0KH" deletable="false" x="0" y="60">
    <statement name="TRADE_OPTIONS">
      <block type="trade_definition_market" id="/f!]?6$.Y`,#1fUB;wu/" deletable="false" movable="false">
        <field name="MARKET_LIST">na</field>
        <field name="SUBMARKET_LIST">na</field>
        <field name="SYMBOL_LIST">na</field>
        <next>
          <block type="trade_definition_tradetype" id="j,Dz$8Bygnbppep.o`Tm" deletable="false" movable="false">
            <field name="TRADETYPECAT_LIST">callput</field>
            <field name="TRADETYPE_LIST">callput</field>
            <next>
              <block type="trade_definition_contracttype" id="8B`~Pppg%_cz5?*vm%,f" deletable="false" movable="false">
                <field name="TYPE_LIST">both</field>
                <next>
                  <block type="trade_definition_candleinterval" id="mO^+z!![ju:6ZDOGNr#C" deletable="false" movable="false">
                    <field name="CANDLEINTERVAL_LIST">60</field>
                    <next>
                      <block type="trade_definition_restartbuysell" id="V;_ivj(ED*t@.|3LQX,%" deletable="false" movable="false">
                        <field name="TIME_MACHINE_ENABLED">FALSE</field>
                        <next>
                          <block type="trade_definition_restartonerror" id="13LR4~wEhi$)!|4%Q^uT" deletable="false" movable="false">
                            <field name="RESTARTONERROR">FALSE</field>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
    <statement name="INITIALIZATION">
      <block type="variables_set" id="=6xZt.U`H6,3[AyfNEge">
        <field name="VAR" id="!{n^g?p1ze,q0]%vUuW3">Próxima condição Trade</field>
        <value name="VALUE">
          <block type="text" id="(-V**Nl;zGd^C7F{jQRh">
            <field name="TEXT">Rise</field>
          </block>
        </value>
        <next>
          <block type="variables_set" id="At#kO`isq)kPA/ozgs#w">
            <field name="VAR" id=")6j,MM.rzpYSIq+6cjf9">Perda máxima aceita</field>
            <value name="VALUE">
              <block type="math_number" id="@*kA}f#mYvr4mLN5?wk,">
                <field name="NUM">7</field>
              </block>
            </value>
            <next>
              <block type="variables_set" id="]=_nnt{0[=Qr1ExV95i2">
                <field name="VAR" id="$~6pi|Dpu{7rY$yF7N~E">Espectativa de Lucro</field>
                <value name="VALUE">
                  <block type="math_number" id="D6Z5Rs+23R]p*3B*1i+A">
                    <field name="NUM">1000</field>
                  </block>
                </value>
                <next>
                  <block type="variables_set" id="9+pAdbr1p2cxPaS7ecbG">
                    <field name="VAR" id="if]A;[/e%;B@?m[UFZ02">Aposta ao vencer</field>
                    <value name="VALUE">
                      <block type="math_number" id="9.n^R6Z}z@TU`6h-vSn/">
                        <field name="NUM">0.57</field>
                      </block>
                    </value>
                    <next>
                      <block type="variables_set" id="H5_}iRHPRHG|C/6RUVd/">
                        <field name="VAR" id="`WOI5{w~~8:IGQ0a6Y:)">Aposta inicial</field>
                        <value name="VALUE">
                          <block type="math_number" id="y*EKK)!vt0N@b9@F1zYR">
                            <field name="NUM">0.57</field>
                          </block>
                        </value>
                        <next>
                          <!-- Initialize new recovery variables -->
                          <block type="variables_set" id="init_win_count">
                            <field name="VAR" id="win_count">Contagem de Vitórias</field>
                            <value name="VALUE">
                              <block type="math_number" id="num_zero_win">
                                <field name="NUM">0</field>
                              </block>
                            </value>
                            <next>
                              <block type="variables_set" id="init_accum_losses">
                                <field name="VAR" id="accumulated_losses">Perdas Acumuladas</field>
                                <value name="VALUE">
                                  <block type="math_number" id="num_zero_loss">
                                    <field name="NUM">0</field>
                                  </block>
                                </value>
                                <next>
                                  <block type="variables_set" id="init_recovery_mode">
                                    <field name="VAR" id="recovery_mode">Modo Recuperação</field>
                                    <value name="VALUE">
                                      <block type="logic_boolean" id="bool_false_rec">
                                        <field name="BOOL">FALSE</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type="variables_set" id="init_recovery_stake">
                                        <field name="VAR" id="recovery_stake">Aposta Recuperação</field>
                                        <value name="VALUE">
                                          <block type="math_number" id="num_zero_stake">
                                            <field name="NUM">0</field>
                                          </block>
                                        </value>
                                        <next>
                                          <block type="variables_set" id="init_trade_type">
                                            <field name="VAR" id="trade_type">Tipo Trade</field>
                                            <value name="VALUE">
                                              <block type="text" id="text_normal">
                                                <field name="TEXT">normal</field>
                                              </block>
                                            </value>
                                          </block>
                                        </next>
                                      </block>
                                    </next>
                                  </block>
                                </next>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </next>
      </block>
    </statement>
    <statement name="SUBMARKET">
      <block type="trade_definition_tradeoptions" id="+BL6zN(q*Bs60x9Ec]0K">
        <mutation xmlns="http://www.w3.org/1999/xhtml" has_first_barrier="false" has_second_barrier="false" has_prediction="false"></mutation>
        <field name="DURATIONTYPE_LIST">t</field>
        <value name="DURATION">
          <block type="math_random_int" id="+RefrYN4Wck=}S*Yvq[E">
            <value name="FROM">
              <shadow type="math_number" id="~H^*5sG*UsJ10{DcU:io">
                <field name="NUM">1</field>
              </shadow>
            </value>
            <value name="TO">
              <shadow type="math_number" id="O{*EjD,]RTm*g!$`;g.p">
                <field name="NUM">1</field>
              </shadow>
            </value>
          </block>
        </value>
        <value name="AMOUNT">
          <!-- Conditional stake: recovery mode vs normal mode -->
          <block type="controls_if" id="stake_selector">
            <value name="IF0">
              <block type="variables_get" id="check_recovery_mode">
                <field name="VAR" id="recovery_mode">Modo Recuperação</field>
              </block>
            </value>
            <statement name="DO0">
              <block type="variables_get" id="use_recovery_stake">
                <field name="VAR" id="recovery_stake">Aposta Recuperação</field>
              </block>
            </statement>
            <statement name="ELSE">
              <block type="variables_get" id="use_normal_stake">
                <field name="VAR" id="`WOI5{w~~8:IGQ0a6Y:)">Aposta inicial</field>
              </block>
            </statement>
          </block>
        </value>
      </block>
    </statement>
  </block>
  <block type="before_purchase" id="k)y7;8p/L$C:69~S.l,Z" deletable="false" x="0" y="868">
    <statement name="BEFOREPURCHASE_STACK">
      <!-- Set trade type for this trade -->
      <block type="controls_if" id="set_trade_type">
        <mutation else="1"></mutation>
        <value name="IF0">
          <block type="variables_get" id="check_recovery_mode_bt">
            <field name="VAR" id="recovery_mode">Modo Recuperação</field>
          </block>
        </value>
        <statement name="DO0">
          <block type="variables_set" id="set_recovery_trade">
            <field name="VAR" id="trade_type">Tipo Trade</field>
            <value name="VALUE">
              <block type="text" id="text_recovery">
                <field name="TEXT">recovery</field>
              </block>
            </value>
          </block>
        </statement>
        <statement name="ELSE">
          <block type="variables_set" id="set_normal_trade">
            <field name="VAR" id="trade_type">Tipo Trade</field>
            <value name="VALUE">
              <block type="text" id="text_normal_bt">
                <field name="TEXT">normal</field>
              </block>
            </value>
          </block>
        </statement>
        <next>
          <!-- Original trade selection logic -->
          <block type="controls_if" id="4A5*ONE8EXY5yO:xZ8W,">
            <mutation xmlns="http://www.w3.org/1999/xhtml" else="1"></mutation>
            <value name="IF0">
              <block type="logic_compare" id="_A{,L7M=s_*k2gX)g9(p">
                <field name="OP">EQ</field>
                <value name="A">
                  <block type="variables_get" id="m;qG`|(6)wD*};cIM7VX">
                    <field name="VAR" id="!{n^g?p1ze,q0]%vUuW3">Próxima condição Trade</field>
                  </block>
                </value>
                <value name="B">
                  <block type="text" id="c,VbYPU~;[B0*Y7C8:rE">
                    <field name="TEXT">Rise</field>
                  </block>
                </value>
              </block>
            </value>
            <statement name="DO0">
              <block type="purchase" id="Kp:QsPIAc%d*FJwD8m?.">
                <field name="PURCHASE_LIST">CALL</field>
              </block>
            </statement>
            <statement name="ELSE">
              <block type="purchase" id=";Dfhm@FzhR{s|@-:lRt+">
                <field name="PURCHASE_LIST">PUT</field>
              </block>
            </statement>
          </block>
        </next>
      </block>
    </statement>
  </block>
  <block type="after_purchase" id="C$~Ej^:uYpp1z[kUUEj7" x="754" y="60">
    <statement name="AFTERPURCHASE_STACK">
      <!-- First check if this is a recovery trade -->
      <block type="controls_if" id="check_trade_type">
        <mutation else="1"></mutation>
        <value name="IF0">
          <block type="logic_compare" id="is_recovery_trade">
            <field name="OP">EQ</field>
            <value name="A">
              <block type="variables_get" id="get_trade_type">
                <field name="VAR" id="trade_type">Tipo Trade</field>
              </block>
            </value>
            <value name="B">
              <block type="text" id="text_recovery_at">
                <field name="TEXT">recovery</field>
              </block>
            </value>
          </block>
        </value>
        <statement name="DO0">
          <!-- Recovery trade handling -->
          <block type="controls_if" id="recovery_result">
            <mutation else="1"></mutation>
            <value name="IF0">
              <block type="contract_check_result" id="recovery_win_check">
                <field name="CHECK_RESULT">win</field>
              </block>
            </value>
            <statement name="DO0">
              <!-- Recovery win: reset system -->
              <block type="variables_set" id="reset_accumulated_losses">
                <field name="VAR" id="accumulated_losses">Perdas Acumuladas</field>
                <value name="VALUE">
                  <block type="math_number" id="zero_loss">
                    <field name="NUM">0</field>
                  </block>
                </value>
                <next>
                  <block type="variables_set" id="reset_win_count">
                    <field name="VAR" id="win_count">Contagem de Vitórias</field>
                    <value name="VALUE">
                      <block type="math_number" id="zero_win">
                        <field name="NUM">0</field>
                      </block>
                    </value>
                    <next>
                      <block type="variables_set" id="reset_recovery_mode">
                        <field name="VAR" id="recovery_mode">Modo Recuperação</field>
                        <value name="VALUE">
                          <block type="logic_boolean" id="bool_false">
                            <field name="BOOL">FALSE</field>
                          </block>
                        </value>
                        <next>
                          <block type="variables_set" id="reset_recovery_stake">
                            <field name="VAR" id="recovery_stake">Aposta Recuperação</field>
                            <value name="VALUE">
                              <block type="math_number" id="zero_recovery">
                                <field name="NUM">0</field>
                              </block>
                            </value>
                            <next>
                              <block type="variables_set" id="set_base_stake_win">
                                <field name="VAR" id="`WOI5{w~~8:IGQ0a6Y:)">Aposta inicial</field>
                                <value name="VALUE">
                                  <block type="variables_get" id="get_win_stake">
                                    <field name="VAR" id="if]A;[/e%;B@?m[UFZ02">Aposta ao vencer</field>
                                  </block>
                                </value>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
            <statement name="ELSE">
              <!-- Recovery loss: rollover to next recovery -->
              <block type="variables_set" id="update_accumulated_losses">
                <field name="VAR" id="accumulated_losses">Perdas Acumuladas</field>
                <value name="VALUE">
                  <block type="math_arithmetic" id="add_recovery_loss">
                    <field name="OP">ADD</field>
                    <value name="A">
                      <block type="variables_get" id="get_current_losses">
                        <field name="VAR" id="accumulated_losses">Perdas Acumuladas</field>
                      </block>
                    </value>
                    <value name="B">
                      <block type="variables_get" id="get_recovery_stake_val">
                        <field name="VAR" id="recovery_stake">Aposta Recuperação</field>
                      </block>
                    </value>
                  </block>
                </value>
                <next>
                  <block type="variables_set" id="reset_win_count_after_loss">
                    <field name="VAR" id="win_count">Contagem de Vitórias</field>
                    <value name="VALUE">
                      <block type="math_number" id="zero_win_again">
                        <field name="NUM">0</field>
                      </block>
                    </value>
                    <next>
                      <block type="variables_set" id="reset_recovery_mode_after_loss">
                        <field name="VAR" id="recovery_mode">Modo Recuperação</field>
                        <value name="VALUE">
                          <block type="logic_boolean" id="bool_false_again">
                            <field name="BOOL">FALSE</field>
                          </block>
                        </value>
                        <next>
                          <block type="variables_set" id="reset_recovery_stake_after_loss">
                            <field name="VAR" id="recovery_stake">Aposta Recuperação</field>
                            <value name="VALUE">
                              <block type="math_number" id="zero_recovery_again">
                                <field name="NUM">0</field>
                              </block>
                            </value>
                            <next>
                              <block type="variables_set" id="set_base_stake_loss">
                                <field name="VAR" id="`WOI5{w~~8:IGQ0a6Y:)">Aposta inicial</field>
                                <value name="VALUE">
                                  <block type="variables_get" id="get_win_stake_again">
                                    <field name="VAR" id="if]A;[/e%;B@?m[UFZ02">Aposta ao vencer</field>
                                  </block>
                                </value>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
          </block>
        </statement>
        <statement name="ELSE">
          <!-- Normal trade handling -->
          <block type="controls_if" id="M1p1SEukvv`l:uyHa|0f">
            <mutation xmlns="http://www.w3.org/1999/xhtml" else="1"></mutation>
            <value name="IF0">
              <block type="contract_check_result" id="*IH${{ZsIJzhV6CZZShg">
                <field name="CHECK_RESULT">loss</field>
              </block>
            </value>
            <statement name="DO0">
              <block type="text_join" id=",DM`wD~TCGr{E1#/gx?l">
                <field name="VARIABLE" id=";Nub0jD_QQ{e@__UYhXE">text</field>
                <statement name="STACK">
                  <block type="text_statement" id="9]vjkJ[x63GN/.?=2TFK">
                    <value name="TEXT">
                      <shadow type="text" id="YSKSn~ng6=ahinVH~PJO">
                        <field name="TEXT"></field>
                      </shadow>
                      <block type="text" id="-K.}Nl@oHT]xefVAPb?y">
                        <field name="TEXT">Ahh! Drawdown😤 $ </field>
                      </block>
                    </value>
                    <next>
                      <block type="text_statement" id="*IvK@?%;_p:W9ZI(DuK|">
                        <value name="TEXT">
                          <shadow type="text" id="Sq#*A=ijL]H9}wu9AF*.">
                            <field name="TEXT"></field>
                          </shadow>
                          <block type="read_details" id="6bfH0zfCopZU;2Y%9_~;">
                            <field name="DETAIL_INDEX">4</field>
                          </block>
                        </value>
                      </block>
                    </next>
                  </block>
                </statement>
                <next>
                  <block type="notify" id="XIOx=+-^UTqa|5}%Z|`D">
                    <field name="NOTIFICATION_TYPE">error</field>
                    <field name="NOTIFICATION_SOUND">silent</field>
                    <value name="MESSAGE">
                      <block type="variables_get" id="DIb;mv}jE5`$89Pqi?8{">
                        <field name="VAR" id=";Nub0jD_QQ{e@__UYhXE">text</field>
                      </block>
                    </value>
                    <next>
                      <!-- Add loss to accumulated losses -->
                      <block type="variables_set" id="update_losses">
                        <field name="VAR" id="accumulated_losses">Perdas Acumuladas</field>
                        <value name="VALUE">
                          <block type="math_arithmetic" id="add_loss">
                            <field name="OP">ADD</field>
                            <value name="A">
                              <block type="variables_get" id="get_accum_losses">
                                <field name="VAR" id="accumulated_losses">Perdas Acumuladas</field>
                              </block>
                            </value>
                            <value name="B">
                              <block type="math_single" id="abs_loss">
                                <field name="OP">ABS</field>
                                <value name="NUM">
                                  <block type="read_details" id="get_loss_amount">
                                    <field name="DETAIL_INDEX">4</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </value>
                        <next>
                          <block type="math_change" id="M[^O`Z]fKj+E~{ffs`fc">
                            <field name="VAR" id="`WOI5{w~~8:IGQ0a6Y:)">Aposta inicial</field>
                            <value name="DELTA">
                              <shadow type="math_number" id="_;*[gE*+w2Gx6!uWLHIt">
                                <field name="NUM">1</field>
                              </shadow>
                              <block type="math_arithmetic" id="9/DQD`P~4F~!1Wn^91wn">
                                <field name="OP">ADD</field>
                                <value name="A">
                                  <shadow type="math_number" id="Xq#^pY}-JP`a8n^?eJe8">
                                    <field name="NUM">1</field>
                                  </shadow>
                                  <block type="math_single" id="LA{FkO$8zf6itqNfB4K9">
                                    <field name="OP">ABS</field>
                                    <value name="NUM">
                                      <shadow type="math_number" id="]0=-D)XUr{{7}|8l_UUw">
                                        <field name="NUM">9</field>
                                      </shadow>
                                      <block type="read_details" id="OCrLw@Gvs^{!9(#r_Jsn">
                                        <field name="DETAIL_INDEX">4</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <value name="B">
                                  <shadow type="math_number" id=".7qHi$*zlM?$#Q;0wuvY">
                                    <field name="NUM">1</field>
                                  </shadow>
                                  <block type="math_number" id="nVj7OQXMTXy#;SC_ds}b">
                                    <field name="NUM">0.05</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <next>
                              <block type="controls_if" id="/xG.3/4:2^`YXsS*9X:n">
                                <mutation xmlns="http://www.w3.org/1999/xhtml" else="1"></mutation>
                                <value name="IF0">
                                  <block type="logic_compare" id="6GSFh{_A3Ie7DLCihtF0">
                                    <field name="OP">NEQ</field>
                                    <value name="A">
                                      <block type="variables_get" id="~r5AKk,f$f)Sp#YDdPTu">
                                        <field name="VAR" id="!{n^g?p1ze,q0]%vUuW3">Próxima condição Trade</field>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="text" id="IqE+ov{P|rbkj]Ih-zO[">
                                        <field name="TEXT">Rise</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <statement name="DO0">
                                  <block type="variables_set" id="TSB7wbv9;I0t6,o$SfZz">
                                    <field name="VAR" id="!{n^g?p1ze,q0]%vUuW3">Próxima condição Trade</field>
                                    <value name="VALUE">
                                      <block type="text" id="}MkBXE;g7kpAF.UMTThu">
                                        <field name="TEXT">Rise</field>
                                      </block>
                                    </value>
                                  </block>
                                </statement>
                                <statement name="ELSE">
                                  <block type="variables_set" id="^F7.%ZfQ(]/,L}sbH3*R">
                                    <field name="VAR" id="!{n^g?p1ze,q0]%vUuW3">Próxima condição Trade</field>
                                    <value name="VALUE">
                                      <block type="text" id="5B(Vk21}BAs._~Ej8cZ[">
                                        <field name="TEXT">Fall</field>
                                      </block>
                                    </value>
                                  </block>
                                </statement>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </statement>
            <statement name="ELSE">
              <block type="controls_if" id="/eb8z,hcE_6u5ETdHFNE">
                <mutation xmlns="http://www.w3.org/1999/xhtml" else="1"></mutation>
                <value name="IF0">
                  <block type="contract_check_result" id="62nSCo]1wWD-E|WP7!jb">
                    <field name="CHECK_RESULT">win</field>
                  </block>
                </value>
                <statement name="DO0">
                  <block type="text_join" id="ffV/-nPIff1b^P!AV#~(">
                    <field name="VARIABLE" id="Y9;b0=lG;-Wn2FG1(zg%">text1</field>
                    <statement name="STACK">
                      <block type="text_statement" id="X3G+nw5E[hQ-3r2`B5wD">
                        <value name="TEXT">
                          <shadow type="text" id="xLNImU_KI}h32]H;#Zi`">
                            <field name="TEXT"></field>
                          </shadow>
                          <block type="text" id="Dv.F3T~z(Hq4h9`;U@nG">
                            <field name="TEXT">🤑🤑 $ </field>
                          </block>
                        </value>
                        <next>
                          <block type="text_statement" id="lZj#1cvwclP{07s}Gop$">
                            <value name="TEXT">
                              <shadow type="text" id="=$dTZ,@Bs`P]z|k,$p8X">
                                <field name="TEXT"></field>
                              </shadow>
                              <block type="math_single" id="F}Zpy;fRPw2^fCv!Auk.">
                                <field name="OP">ABS</field>
                                <value name="NUM">
                                  <shadow type="math_number" id="!-68!44$8+NK!^^G0[Hj">
                                    <field name="NUM">9</field>
                                  </shadow>
                                  <block type="read_details" id="i|f@EAr+)9}##/0(Q*:a">
                                    <field name="DETAIL_INDEX">4</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                          </block>
                        </next>
                      </block>
                    </statement>
                    <next>
                      <block type="notify" id="e[]OS^G/0}`)FY{vWA[z">
                        <field name="NOTIFICATION_TYPE">success</field>
                        <field name="NOTIFICATION_SOUND">silent</field>
                        <value name="MESSAGE">
                          <block type="variables_get" id="|0k%Jn`NgBGryykU~/L7">
                            <field name="VAR" id="Y9;b0=lG;-Wn2FG1(zg%">text1</field>
                          </block>
                        </value>
                        <next>
                          <!-- Increment win count -->
                          <block type="variables_set" id="increment_win_count">
                            <field name="VAR" id="win_count">Contagem de Vitórias</field>
                            <value name="VALUE">
                              <block type="math_arithmetic" id="add_win">
                                <field name="OP">ADD</field>
                                <value name="A">
                                  <block type="variables_get" id="get_win_count">
                                    <field name="VAR" id="win_count">Contagem de Vitórias</field>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="math_number" id="one">
                                    <field name="NUM">1</field>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <next>
                              <!-- Check if 5 wins reached and losses exist -->
                              <block type="controls_if" id="check_5_wins">
                                <mutation else="1"></mutation>
                                <value name="IF0">
                                  <block type="logic_operation" id="check_win_and_loss">
                                    <field name="OP">AND</field>
                                    <value name="A">
                                      <block type="logic_compare" id="is_5_wins">
                                        <field name="OP">EQ</field>
                                        <value name="A">
                                          <block type="variables_get" id="get_win_count_val">
                                            <field name="VAR" id="win_count">Contagem de Vitórias</field>
                                          </block>
                                        </value>
                                        <value name="B">
                                          <block type="math_number" id="five">
                                            <field name="NUM">5</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="logic_compare" id="has_losses">
                                        <field name="OP">GT</field>
                                        <value name="A">
                                          <block type="variables_get" id="get_accum_loss">
                                            <field name="VAR" id="accumulated_losses">Perdas Acumuladas</field>
                                          </block>
                                        </value>
                                        <value name="B">
                                          <block type="math_number" id="zero">
                                            <field name="NUM">0</field>
                                          </block>
                                        </value>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                                <statement name="DO0">
                                  <!-- Activate recovery mode -->
                                  <block type="variables_set" id="activate_recovery">
                                    <field name="VAR" id="recovery_mode">Modo Recuperação</field>
                                    <value name="VALUE">
                                      <block type="logic_boolean" id="bool_true">
                                        <field name="BOOL">TRUE</field>
                                      </block>
                                    </value>
                                    <next>
                                      <block type="variables_set" id="set_recovery_amount">
                                        <field name="VAR" id="recovery_stake">Aposta Recuperação</field>
                                        <value name="VALUE">
                                          <block type="math_arithmetic" id="calc_recovery">
                                            <field name="OP">MULTIPLY</field>
                                            <value name="A">
                                              <block type="variables_get" id="get_accumulated_losses">
                                                <field name="VAR" id="accumulated_losses">Perdas Acumuladas</field>
                                              </block>
                                            </value>
                                            <value name="B">
                                              <block type="math_number" id="two">
                                                <field name="NUM">2</field>
                                              </block>
                                            </value>
                                          </block>
                                        </value>
                                      </block>
                                    </next>
                                  </block>
                                </statement>
                              </block>
                            </next>
                          </block>
                        </next>
                      </block>
                    </next>
                  </block>
                </statement>
              </block>
            </statement>
            <next>
              <!-- Original profit/loss checking logic -->
              <block type="text_join" id="J@s#~1mb@f94zE/z%?O8">
                <field name="VARIABLE" id="W?uLGIENx1)FY:8]jm:e">text2</field>
                <statement name="STACK">
                  <block type="text_statement" id="(81X4]JfAO5:[x$L1lGM">
                    <value name="TEXT">
                      <shadow type="text" id="oaPN4wq6!)k`ZR_!m]Ts">
                        <field name="TEXT"></field>
                      </shadow>
                      <block type="text" id="hc^82Ui0D.$~j%LX4gi5">
                        <field name="TEXT">💸Total Profit Made $ </field>
                      </block>
                    </value>
                    <next>
                      <block type="text_statement" id="Uil+mx:P=3iI6H6b%:R3">
                        <value name="TEXT">
                          <shadow type="text" id="m(3n`{s9L6*PIW1nPvSY">
                            <field name="TEXT"></field>
                          </shadow>
                          <block type="total_profit" id="M,-P{PFNk|~?QRFRCd^K"></block>
                        </value>
                      </block>
                    </next>
                  </block>
                </statement>
                <next>
                  <block type="notify" id="WxZB?NMh[,W6`$ze#0JJ">
                    <field name="NOTIFICATION_TYPE">info</field>
                    <field name="NOTIFICATION_SOUND">silent</field>
                    <value name="MESSAGE">
                      <block type="variables_get" id="/6r^au[S+w*.gwf6CxR.">
                        <field name="VAR" id="W?uLGIENx1)FY:8]jm:e">text2</field>
                      </block>
                    </value>
                    <next>
                      <block type="controls_if" id=":OU]k%.?/WPLvnA-!+v7">
                        <mutation xmlns="http://www.w3.org/1999/xhtml" else="1"></mutation>
                        <value name="IF0">
                          <block type="logic_compare" id="8#R`T@rkc?y`M`P7]Kc0">
                            <field name="OP">LT</field>
                            <value name="A">
                              <block type="total_profit" id="krIhE:p.^AanBz]TxB~("></block>
                            </value>
                            <value name="B">
                              <block type="variables_get" id="EDDocPWVM,58:+Bzk1[Z">
                                <field name="VAR" id="$~6pi|Dpu{7rY$yF7N~E">Espectativa de Lucro</field>
                              </block>
                            </value>
                          </block>
                        </value>
                        <statement name="DO0">
                          <block type="controls_if" id="DHe]Mg+GJlB3+.o%_X=G">
                            <mutation xmlns="http://www.w3.org/1999/xhtml" else="1"></mutation>
                            <value name="IF0">
                              <block type="logic_operation" id="k5p:3:?49o$sh-Y]Erq]">
                                <field name="OP">AND</field>
                                <value name="A">
                                  <block type="math_number_property" id="n+WK$rcMle]}~aIOefbP">
                                    <mutation xmlns="http://www.w3.org/1999/xhtml" divisor_input="false"></mutation>
                                    <field name="PROPERTY">NEGATIVE</field>
                                    <value name="NUMBER_TO_CHECK">
                                      <shadow type="math_number" id="U8DqnJ|L#xNB)C|kA~fE">
                                        <field name="NUM">0</field>
                                      </shadow>
                                      <block type="total_profit" id="$CbS@IRo@xL)%r#%FFaN"></block>
                                    </value>
                                  </block>
                                </value>
                                <value name="B">
                                  <block type="logic_compare" id=";aE5Dcdc$zvFe-~B|qVw">
                                    <field name="OP">GTE</field>
                                    <value name="A">
                                      <block type="math_single" id="ci,*fG|zAWtW|ujLL3~^">
                                        <field name="OP">ABS</field>
                                        <value name="NUM">
                                          <shadow type="math_number" id="FAu{A5(@%,lW~J[DP?xn">
                                            <field name="NUM">9</field>
                                          </shadow>
                                          <block type="total_profit" id="7ALbwr{W:%9=|Au#jB=d"></block>
                                        </value>
                                      </block>
                                    </value>
                                    <value name="B">
                                      <block type="variables_get" id="Vaf?;)xR]tU]IZL^73p$">
                                        <field name="VAR" id=")6j,MM.rzpYSIq+6cjf9">Perda máxima aceita</field>
                                      </block>
                                    </value>
                                  </block>
                                </value>
                              </block>
                            </value>
                            <statement name="DO0">
                              <block type="text_print" id="Gy}+bHV.$B}d+4xbNe`4">
                                <value name="TEXT">
                                  <shadow type="text" id="Ae3UO#yG6mj3KL+`Mtun">
                                    <field name="TEXT">abc</field>
                                  </shadow>
                                  <block type="text" id="m;MOg+:@:HF;/z6Qw#`x">
                                    <field name="TEXT">Stop-loss Hit</field>
                                  </block>
                                </value>
                              </block>
                            </statement>
                            <statement name="ELSE">
                              <block type="trade_again" id="ehVnx^-}+7(9Ih6UzK09"></block>
                            </statement>
                          </block>
                        </statement>
                        <statement name="ELSE">
                          <block type="text_join" id="6`|]Pjz#|[_l8u!:tECb">
                            <field name="VARIABLE" id="t/e5rb;Rxg/z9vqQ%X^Z">text3</field>
                            <statement name="STACK">
                              <block type="text_statement" id="m}]Hv-dd[S[}reKJ_R)l">
                                <value name="TEXT">
                                  <shadow type="text" id="i4+puDSCCR%9Qzigw!W`">
                                    <field name="TEXT"></field>
                                  </shadow>
                                  <block type="text" id="g26)e1}VsG=_?mY(Fb$9">
                                    <field name="TEXT">Congrats Bag Has Been Secured!!</field>
                                  </block>
                                </value>
                                <next>
                                  <block type="text_statement" id="Yj2[7iy$xwIrRAYfb:.K">
                                    <value name="TEXT">
                                      <shadow type="text" id=",xu7a-.Q3VS=P7?D:++t">
                                        <field name="TEXT"></field>
                                      </shadow>
                                      <block type="total_profit" id="jHv-dt,$,u|qWK(qxye%"></block>
                                    </value>
                                  </block>
                                </next>
                              </block>
                            </statement>
                            <next>
                              <block type="text_print" id="=WI:lTizyjO3l|77.vP4">
                                <value name="TEXT">
                                  <shadow type="text" id="|HYMUAK(4,4l.$It:xT1">
                                    <field name="TEXT">abc</field>
                                  </shadow>
                                  <block type="variables_get" id="8+e{ZiSDFzcwY/9@?^b^">
                                    <field name="VAR" id="t/e5rb;Rxg/z9vqQ%X^Z">text3</field>
                                  </block>
                                </value>
                              </block>
                            </next>
                          </block>
                        </statement>
                      </block>
                    </next>
                  </block>
                </next>
              </block>
            </next>
          </block>
        </statement>
      </block>
    </statement>
  </block>
</xml>
